var Mailcheck={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["yahoo.com","gmail.com","ymail.com","msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","outlook.com","live.com","mailinator.com","charter.net","shaw.ca","hotmail.com","yahoo.co.in","rediffmail.com","simplilearn.com","yahoo.in","yahoo.co.uk","tcs.com","yahoo.fr","capgemini.com","cognizant.com","in.ibm.com","hotmail.co.uk","wipro.com","yopmail.com","accenture.com","live.in","hcl.com","atos.net","ericsson.com","hpe.com","techmahindra.com","yahoo.ca","dell.com","ge.com","mail.usf.edu","optum.com","infosys.com","simplilearn.net","cisco.com","bankofamerica.com","rediff.com","aexp.com","mindtree.com","mail.ru","vmware.com","hotmail.fr","gmx.de","vodafone.com","bugsbounty.co","kpmg.com","capitalone.com","bm.com","ford.com","yahoo.com.au","att.com","live.co.uk","aol.in","metlife.com","hp.com","163.com","yahoo.com.sg","sap.com","bt.com","oracle.com","deloitte.com","microsoft.com","adp.com","naver.com","honeywell.com","cgi.com","merck.com","verizon.com","siemens.com","gmx.com"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","cz","in","net.au","info","biz","mil","co.jp","sg","hu","uk","sa","au","za","co","ae","pl","br","om","pk","id","ph"],run:function(e){e.domains=e.domains||Mailcheck.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||Mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Mailcheck.sift3Distance;var o=function(e){return e},n=e.suggested||o,i=e.empty||o,c=Mailcheck.suggest(Mailcheck.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return c?n(c):i()},suggest:function(e,o,n,i,c){e=e.toLowerCase();var a=this.splitEmail(e);if(n&&i&&-1!==n.indexOf(a.secondLevelDomain)&&-1!==i.indexOf(a.topLevelDomain))return!1;if(l=this.findClosestDomain(a.domain,o,c,this.domainThreshold))return l!=a.domain&&{address:a.address,domain:l,full:a.address+"@"+l};var t=this.findClosestDomain(a.secondLevelDomain,n,c,this.secondLevelThreshold),m=this.findClosestDomain(a.topLevelDomain,i,c,this.topLevelThreshold);if(a.domain){var l=a.domain,r=!1;if(t&&t!=a.secondLevelDomain&&(l=l.replace(a.secondLevelDomain,t),r=!0),m&&m!=a.topLevelDomain&&(l=l.replace(a.topLevelDomain,m),r=!0),1==r)return{address:a.address,domain:l,full:a.address+"@"+l}}return!1},findClosestDomain:function(e,o,n,i){i=i||this.topLevelThreshold;var c,a=99,t=null;if(!e||!o)return!1;n||(n=this.sift3Distance);for(var m=0;m<o.length;m++){if(e===o[m])return e;(c=n(e,o[m]))<a&&(a=c,t=o[m])}return a<=i&&null!==t&&t},sift3Distance:function(e,o){if(null==e||0===e.length)return null==o||0===o.length?0:o.length;if(null==o||0===o.length)return e.length;for(var n=0,i=0,c=0,a=0;n+i<e.length&&n+c<o.length;){if(e.charAt(n+i)==o.charAt(n+c))a++;else{i=0,c=0;for(var t=0;t<5;t++){if(n+t<e.length&&e.charAt(n+t)==o.charAt(n)){i=t;break}if(n+t<o.length&&e.charAt(n)==o.charAt(n+t)){c=t;break}}}n++}return(e.length+o.length)/2-a},splitEmail:function(e){var o=e.trim().split("@");if(o.length<2)return!1;for(t=0;t<o.length;t++)if(""===o[t])return!1;var n=o.pop(),i=n.split("."),c="",a="";if(0==i.length)return!1;if(1==i.length)a=i[0];else{c=i[0];for(var t=1;t<i.length;t++)a+=i[t]+".";a=a.substring(0,a.length-1)}return{topLevelDomain:a,secondLevelDomain:c,domain:n,address:o.join("@")}},encodeEmail:function(e){var o=encodeURI(e);return o=o.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};"undefined"!=typeof module&&module.exports&&(module.exports=Mailcheck),"function"==typeof define&&define.amd&&define("mailcheck",[],function(){return Mailcheck}),"undefined"!=typeof window&&window.jQuery&&(jQuery.fn.mailcheck=function(e){var o=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(o,e)}}if(e.empty){var i=e.empty;e.empty=function(){i.call(null,o)}}e.email=this.val(),Mailcheck.run(e)});
